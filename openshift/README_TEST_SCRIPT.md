# Camel App ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ - ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

## ğŸš€ ã™ãã«ä½¿ãˆã‚‹ï¼

```bash
cd /Users/kjin/mobills/observability/demo/openshift
./test_camel_app.sh
```

## ğŸ“‹ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ¦‚è¦

`test_camel_app.sh` ã¯ã€OpenShiftä¸Šã®Camel Appã‚’**12é …ç›®**ã§åŒ…æ‹¬çš„ã«ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚

### ãƒ†ã‚¹ãƒˆé …ç›®

1. âœ… å‰ææ¡ä»¶ã®ç¢ºèªï¼ˆoc, curl, jqï¼‰
2. âœ… PodçŠ¶æ…‹ç¢ºèªï¼ˆRunning, Readyï¼‰
3. âœ… Routeç¢ºèªï¼ˆURLå–å¾—ï¼‰
4. âœ… ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ï¼ˆ/actuator/healthï¼‰
5. âœ… ã‚¢ãƒ—ãƒªæƒ…å ±ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªï¼‰
6. âœ… REST API ãƒ†ã‚¹ãƒˆï¼ˆ3ä»¶ã®æ³¨æ–‡ä½œæˆï¼‰
7. âœ… ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèªï¼ˆPrometheusï¼‰
8. âœ… TraceIDç¢ºèªï¼ˆåˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ï¼‰
9. âœ… ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª
10. âœ… Kafkaæ¥ç¶šç¢ºèªï¼ˆé€å—ä¿¡ï¼‰
11. âœ… å‡¦ç†å®Œäº†ç¢ºèª
12. âœ… ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨çŠ¶æ³

---

## ğŸ¨ å‡ºåŠ›ä¾‹

```
========================================
1. å‰ææ¡ä»¶ã®ç¢ºèª
========================================
âœ… ocã‚³ãƒãƒ³ãƒ‰: åˆ©ç”¨å¯èƒ½
âœ… curlã‚³ãƒãƒ³ãƒ‰: åˆ©ç”¨å¯èƒ½
âœ… jqã‚³ãƒãƒ³ãƒ‰: åˆ©ç”¨å¯èƒ½
âœ… OpenShiftæ¥ç¶š: admin
âœ… ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: camel-observability-demo

========================================
2. PodçŠ¶æ…‹ã®ç¢ºèª
========================================
âœ… camel-app Pod: camel-app-c58cb68dd-6q9d8
âœ… PodçŠ¶æ…‹: Running
âœ… Pod Ready: true
â„¹ï¸  èµ·å‹•æ™‚é–“: 2025-10-16T09:05:16Z

...

========================================
ãƒ†ã‚¹ãƒˆçµæœã‚µãƒãƒªãƒ¼
========================================

åˆè¨ˆãƒ†ã‚¹ãƒˆæ•°: 15
æˆåŠŸ: 15
å¤±æ•—: 0

ğŸ‰ ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ã¾ã—ãŸï¼

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
  1. Grafana ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ç¢ºèª
  2. Grafana Explore ã§ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’ç¢ºèª
  3. Grafana Explore ã§ãƒ­ã‚°ã‚’ç¢ºèª
```

---

## ğŸ“š è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

è©³ã—ã„ä½¿ã„æ–¹ã¯ **TEST_SCRIPT_GUIDE.md** ã‚’ã”è¦§ãã ã•ã„ã€‚

- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- CI/CDçµ±åˆ
- ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

---

## ğŸ¯ ã‚ˆãã‚ã‚‹ä½¿ã„æ–¹

### ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®ç¢ºèª

```bash
oc rollout status deployment/camel-app
./test_camel_app.sh
```

### å®šæœŸçš„ãªå¥å…¨æ€§ãƒã‚§ãƒƒã‚¯

```bash
# Cronã§æ¯æ—¥å®Ÿè¡Œ
0 9 * * * cd /path/to/openshift && ./test_camel_app.sh >> /var/log/camel-test.log 2>&1
```

### ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜

```bash
./test_camel_app.sh | tee test-results-$(date +%Y%m%d).log
```

---

## âœ… ä½œæˆå®Œäº†ï¼

ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæº–å‚™ã§ãã¾ã—ãŸã€‚æ—©é€Ÿå®Ÿè¡Œã—ã¦ã¿ã¦ãã ã•ã„ï¼

```bash
./test_camel_app.sh
```




